"use strict";(self.webpackChunkbru_finance=self.webpackChunkbru_finance||[]).push([[98434],{98434:(e,t,n)=>{n.d(t,{upload:()=>d});var r=n(966),i=n(77717),a=n(16406),o=n(43830);function f(e){return globalThis.File&&e instanceof File}function l(e){return!!e&&(!!(0,a.C)(e,["data","name"])&&!("string"!==typeof e.name||"string"!==typeof e.data&&!(0,o.mg)(e.data)))}function s(e,t){if(f(e)&&f(t)){if(e.name===t.name&&e.lastModified===t.lastModified&&e.size===t.size)return!0}else{if((0,o.mg)(e)&&(0,o.mg)(t))return(0,o.tv)(e,t);if(l(e)&&l(t)&&e.name===t.name){if("string"===typeof e.data&&"string"===typeof t.data)return e.data===t.data;if((0,o.mg)(e.data)&&(0,o.mg)(t.data))return(0,o.tv)(e.data,t.data)}}return!1}function c(e){return f(e)||(0,o.mg)(e)||l(e)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(c(e))return t.push(e),t;if("object"===typeof e){if(!e)return t;if(Array.isArray(e))for(const n of e)u(n,t);else Object.keys(e).map((n=>u(e[n],t)))}return t}function p(e,t){if(c(e)){if(t.length)return t.shift();console.warn("Not enough URIs to replace all files in object.")}return"object"===typeof e&&e?Array.isArray(e)?e.map((e=>p(e,t))):Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[n,p(r,t)]}))):e}function m(e){return"string"===typeof e?function(e){if(e.includes("/ipfs/")){const t=e.split("/ipfs/")[1];return"ipfs://".concat(t)}return e}(e):"object"===typeof e&&e?c(e)?e:Array.isArray(e)?e.map((e=>m(e))):Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,m(n)]}))):e}async function d(e){if(0===e.files.length)return null;let t;if(e.files.map((e=>c(e)||"string"===typeof e)).every((e=>!!e)))t=e.files;else{let n=e.files;n=m(n);const r=u(n);if(r.length){const t=await d({...e,files:r});n=p(n,Array.isArray(t)?t:[t])}t=n.map((e=>"string"===typeof e?e:(0,i.A)(e)))}const a=new FormData,{fileNames:o,form:y}=function(e,t,n){const r=new Map,i=[];for(let o=0;o<t.length;o++){const a=t[o];let c="",u=a;if(f(a))if(null!==n&&void 0!==n&&n.rewriteFileNames){let e="";if(a.name){const t=a.name.lastIndexOf(".");t>-1&&(e=a.name.substring(t))}c="".concat(o+n.rewriteFileNames.fileStartNumber).concat(e)}else c="".concat(a.name);else l(a)?(u=a.data,c=null!==n&&void 0!==n&&n.rewriteFileNames?"".concat(o+n.rewriteFileNames.fileStartNumber):"".concat(a.name)):c=null!==n&&void 0!==n&&n.rewriteFileNames?"".concat(o+n.rewriteFileNames.fileStartNumber):"".concat(o);const p=null!==n&&void 0!==n&&n.uploadWithoutDirectory?"files":"files/".concat(c);if(r.has(c)){if(s(r.get(c),a)){i.push(c);continue}throw new Error("[DUPLICATE_FILE_NAME_ERROR] File name ".concat(c," was passed for more than one different file."))}r.set(c,a),i.push(c),e.append("file",new Blob([u]),p)}const a={name:"Storage SDK",keyvalues:{...null===n||void 0===n?void 0:n.metadata}};return e.append("pinataMetadata",JSON.stringify(a)),null!==n&&void 0!==n&&n.uploadWithoutDirectory&&e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:e,fileNames:i.map((e=>encodeURIComponent(e)))}}(a,t,e),g=(0,r.l)();if("browser"===g||"node"===g){const{uploadBatch:t}=await n.e(20176).then(n.bind(n,20176)),r=await t(e.client,y,o,e);return 1===e.files.length?r[0]:r}throw new Error("Please, use the uploadMobile function in mobile environments.")}},43830:(e,t,n)=>{let r;n.d(t,{tv:()=>f,QM:()=>c,mg:()=>o});const i="[object Uint8Array]";function a(e){if(!o(e))throw new TypeError("Expected `Uint8Array`, got `".concat(typeof e,"`"))}function o(e){return!!e&&(e.constructor===Uint8Array||Object.prototype.toString.call(e)===i)}function f(e,t){if(a(e),a(t),e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function l(e){return a(e),(r||(r=new TextDecoder),r).decode(e)}function s(e){if("string"!==typeof e)throw new TypeError("Expected `string`, got `".concat(typeof e,"`"))}function c(e){return s(e),l(function(e){return s(e),Uint8Array.from(globalThis.atob(e.replaceAll("-","+").replaceAll("_","/")),(e=>e.codePointAt(0)))}(e))}}}]);
//# sourceMappingURL=98434.d4f4edbd.chunk.js.map