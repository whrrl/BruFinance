"use strict";(self.webpackChunkbru_finance=self.webpackChunkbru_finance||[]).push([[14270],{14270:(t,n,e)=>{e.d(n,{getNFT:()=>u});var r=e(84841),o=e(39771),i=e(86511);const c="0xc87b56dd",a=[{type:"uint256",name:"_tokenId"}],l=[{type:"string"}];async function d(t){return(0,i.readContract)({contract:t.contract,method:[c,a,l],params:[t.tokenId]})}async function u(t){const[n,i]=await Promise.all([d(t).catch((()=>null)),t.includeOwner?e.e(36814).then(e.bind(e,36814)).then((n=>n.ownerOf(t))).catch((()=>null)):null]);return n?(0,o.e)(await(0,r.F)({client:t.contract.client,tokenId:t.tokenId,tokenUri:n}).catch((()=>({id:t.tokenId,type:"ERC721",uri:n}))),{tokenId:t.tokenId,tokenUri:n,type:"ERC721",owner:i}):(0,o.e)({id:t.tokenId,type:"ERC721",uri:""},{tokenId:t.tokenId,tokenUri:"",type:"ERC721",owner:i})}},84841:(t,n,e)=>{e.d(n,{F:()=>i});var r=e(43830);var o=e(3340);async function i(t){const{client:n,tokenId:i,tokenUri:c}=t;if(c.startsWith("data:application/json;base64"))try{return JSON.parse(function(t){const[,n]=t.split(",");return(0,r.QM)(n)}(c))}catch(l){throw console.error("Failed to fetch base64 encoded NFT",{tokenId:i,tokenUri:c},l),l}const{download:a}=await Promise.resolve().then(e.bind(e,97543));try{if(!c.includes("{id}"))return await(await a({client:n,uri:c})).json()}catch(l){throw console.error("Failed to fetch non-dynamic NFT",{tokenId:i,tokenUri:c},l),l}try{try{return await(await a({client:n,uri:c.replace("{id}",(0,o.cK)(i,{size:32}).slice(2))})).json()}catch(d){return await(await a({client:n,uri:c.replace("{id}",i.toString())})).json()}}catch(l){throw console.error("Failed to fetch dynamic NFT",{tokenId:i,tokenUri:c},l),l}}},39771:(t,n,e)=>{function r(t,n){var e,r;switch(n.type){case"ERC721":return{metadata:t,owner:null!==(e=null===n||void 0===n?void 0:n.owner)&&void 0!==e?e:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type};case"ERC1155":return{metadata:t,owner:null!==(r=null===n||void 0===n?void 0:n.owner)&&void 0!==r?r:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type,supply:n.supply};default:throw new Error("Invalid NFT type")}}e.d(n,{e:()=>r})},43830:(t,n,e)=>{let r;e.d(n,{tv:()=>a,QM:()=>u,mg:()=>c});const o="[object Uint8Array]";function i(t){if(!c(t))throw new TypeError("Expected `Uint8Array`, got `".concat(typeof t,"`"))}function c(t){return!!t&&(t.constructor===Uint8Array||Object.prototype.toString.call(t)===o)}function a(t,n){if(i(t),i(n),t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function l(t){return i(t),(r||(r=new TextDecoder),r).decode(t)}function d(t){if("string"!==typeof t)throw new TypeError("Expected `string`, got `".concat(typeof t,"`"))}function u(t){return d(t),l(function(t){return d(t),Uint8Array.from(globalThis.atob(t.replaceAll("-","+").replaceAll("_","/")),(t=>t.codePointAt(0)))}(t))}}}]);
//# sourceMappingURL=14270.a55ceccd.chunk.js.map