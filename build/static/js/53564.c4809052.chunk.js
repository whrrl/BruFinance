"use strict";(self.webpackChunkbru_finance=self.webpackChunkbru_finance||[]).push([[53564],{53564:(t,n,e)=>{e.d(n,{getNFT:()=>f});var r=e(84841),o=e(39771),c=e(86511);const i="0xbd85b039",a=[{type:"uint256",name:"id"}],d=[{type:"uint256"}];async function l(t){return(0,c.readContract)({contract:t.contract,method:[i,a,d],params:[t.id]})}const u="0x0e89341c",s=[{type:"uint256",name:"tokenId"}],p=[{type:"string"}];async function y(t){return(0,c.readContract)({contract:t.contract,method:[u,s,p],params:[t.tokenId]})}async function f(t){const[n,e]=await Promise.all([y({contract:t.contract,tokenId:t.tokenId}),l({contract:t.contract,id:t.tokenId}).catch((()=>0n))]);return(0,o.e)(await(0,r.F)({client:t.contract.client,tokenId:t.tokenId,tokenUri:n}).catch((()=>({id:t.tokenId,type:"ERC1155",uri:n}))),{tokenId:t.tokenId,tokenUri:n,type:"ERC1155",owner:null,supply:e})}},84841:(t,n,e)=>{e.d(n,{F:()=>c});var r=e(43830);var o=e(3340);async function c(t){const{client:n,tokenId:c,tokenUri:i}=t;if(i.startsWith("data:application/json;base64"))try{return JSON.parse(function(t){const[,n]=t.split(",");return(0,r.QM)(n)}(i))}catch(d){throw console.error("Failed to fetch base64 encoded NFT",{tokenId:c,tokenUri:i},d),d}const{download:a}=await Promise.resolve().then(e.bind(e,97543));try{if(!i.includes("{id}"))return await(await a({client:n,uri:i})).json()}catch(d){throw console.error("Failed to fetch non-dynamic NFT",{tokenId:c,tokenUri:i},d),d}try{try{return await(await a({client:n,uri:i.replace("{id}",(0,o.cK)(c,{size:32}).slice(2))})).json()}catch(l){return await(await a({client:n,uri:i.replace("{id}",c.toString())})).json()}}catch(d){throw console.error("Failed to fetch dynamic NFT",{tokenId:c,tokenUri:i},d),d}}},39771:(t,n,e)=>{function r(t,n){var e,r;switch(n.type){case"ERC721":return{metadata:t,owner:null!==(e=null===n||void 0===n?void 0:n.owner)&&void 0!==e?e:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type};case"ERC1155":return{metadata:t,owner:null!==(r=null===n||void 0===n?void 0:n.owner)&&void 0!==r?r:null,id:n.tokenId,tokenURI:n.tokenUri,type:n.type,supply:n.supply};default:throw new Error("Invalid NFT type")}}e.d(n,{e:()=>r})},43830:(t,n,e)=>{let r;e.d(n,{tv:()=>a,QM:()=>u,mg:()=>i});const o="[object Uint8Array]";function c(t){if(!i(t))throw new TypeError("Expected `Uint8Array`, got `".concat(typeof t,"`"))}function i(t){return!!t&&(t.constructor===Uint8Array||Object.prototype.toString.call(t)===o)}function a(t,n){if(c(t),c(n),t===n)return!0;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function d(t){return c(t),(r||(r=new TextDecoder),r).decode(t)}function l(t){if("string"!==typeof t)throw new TypeError("Expected `string`, got `".concat(typeof t,"`"))}function u(t){return l(t),d(function(t){return l(t),Uint8Array.from(globalThis.atob(t.replaceAll("-","+").replaceAll("_","/")),(t=>t.codePointAt(0)))}(t))}}}]);
//# sourceMappingURL=53564.c4809052.chunk.js.map